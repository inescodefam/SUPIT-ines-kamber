<!DOCTYPE html>
<html lang="hr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="SUPIT - Sveučilište Algebra, Standardi u primjeni interentske tehnologije"
    />
    <meta author="Ines Kamber" />
    <meta
      name="keywords"
      content="SUPIT, Sveučilište Algebra, IT, internetske tehnologije"
    />
    <title>SUPIT</title>

    <!-- Favicon -->
    <link
      rel="icon"
      href="./../../public/assets/favico.ico"
      type="image/x-icon"
    />

    <!--Bootstrap linkovi-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <!-- linkovi na stylesheet-->
    <link rel="stylesheet" href="./../styles/navBar.css" />
    <link rel="stylesheet" href="./../styles/fonts.css" />
    <link rel="stylesheet" href="./../styles/modal.css" />
    <link rel="stylesheet" href="./../styles/text-style.css" />
    <link rel="stylesheet" href="./../styles/bg-stayles.css" />
    <link rel="stylesheet" href="./../styles/forms.css" />

    <!--Google fontovi-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <nav class="nav barlow-condensed-regular">
        <div class="nav">
          <a href="./login.html"
            >Prijavi se
            <img
              src="./../../public/assets/login_icon.svg"
              alt="Prijavi se"
              class="nav-icon"
            />
          </a>
          <a href="./../../index.html">
            <img
              src="./../../public/assets/home_icon.svg"
              alt="Početna"
              class="nav-icon"
            />
            Početna</a
          >
          <a href="./about.html">
            <img
              src="./../../public/assets/about_icon.svg"
              alt="O nama"
              class="nav-icon"
            />
            O nama</a
          >
          <a href="/news">
            <img
              src="./../../public/assets/info_icon.svg"
              alt="Novosti"
              class="nav-icon"
            />
            Novosti</a
          >
          <button
            type="button"
            class="btn"
            data-bs-toggle="modal"
            data-bs-target="#kontakt-modal-id"
          >
            <div>
              <img
                src="./../../public/assets/contact_us_icon.svg"
                alt="Kontaktiraj nas"
              />
              Kontakti
            </div>
          </button>
        </div>
      </nav>
      <!-- Modal -->
      <div
        class="modal fade"
        id="kontakt-modal-id"
        data-bs-backdrop="static"
        data-bs-keyboard="false"
        tabindex="-1"
        aria-labelledby="staticBackdropLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <img
                src="./../../public/assets/contact-us-modal-icon.svg"
                alt="Kontaktiraj nas"
              />
              <h1 class="modal-title fs-2" id="staticBackdropLabel">
                Kontaktirajte nas
              </h1>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <!-- Inputi modala -->
            <div class="modal-body form-labels">
              <form
                action="https://www.fulek.com/mvc/supit/project-contact-form"
                method="post"
              >
                <div class="mt-1 mb-1">
                  <label for="fullname">Puno ime</label>
                </div>
                <div>
                  <input
                    type="text"
                    id="fullname"
                    name="FullName"
                    class="form-control"
                    required
                  />
                </div>
                <div class="mt-3 mb-1">
                  <label for="email">E-mail</label>
                </div>
                <div>
                  <input
                    type="email"
                    id="email"
                    name="Email"
                    class="form-control"
                    required
                  />
                </div>

                <div class="mt-3 mb-1">
                  <label for="importance">Važnost poruke</label>
                </div>
                <div>
                  <select
                    type="list"
                    id="importance"
                    name="Importance"
                    class="form-control"
                  >
                    <option value="1">Visoka</option>
                    <option value="2">Srednja</option>
                    <option value="3">Niska</option>
                  </select>
                </div>
                <div class="mt-3 mb-1">
                  <label for="message">Poruka</label>
                </div>
                <div>
                  <textarea
                    id="message"
                    name="Message"
                    rows="6"
                    class="form-control"
                    required
                  ></textarea>
                </div>
                <div class="mt-3 mb-1">
                  <label for="newsletter">Želim primati obavijesti</label>

                  <input
                    type="checkbox"
                    id="newsletter"
                    name="ReceiveNewsletter"
                  />
                </div>
                <!-- Gumbi modala footer -->
                <div class="modal-footer">
                  <div class="col-sm">
                    <button type="submit" class="btn btn-primary">
                      Pošalji
                    </button>
                    <button
                      type="button"
                      class="btn btn-danger"
                      data-bs-dismiss="modal"
                    >
                      Odustani
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Forma -->
    <div class="container barlow-condensed-regular">
      <form id="loginForm">
        <div class="form-group">
          <h1 id="form-title">Prijava korisnika</h1>
          <label for="username">Korisničko ime</label>
          <input
            type="text"
            class="form-control"
            id="username"
            aria-describedby="emailHelp"
            placeholder="Korisničko ime"
            name="username"
            required
          />
        </div>
        <div class="form-group">
          <label for="password">Lozinka</label>
          <input
            type="password"
            class="form-control"
            id="password"
            placeholder="Lozinka"
            name="password"
            required
          />
        </div>
        <button type="submit" class="btn btn-secondary btn-lg col-12">
          Prijavi se
        </button>
        <div
          id="error-message"
          class="error-message"
          style="display: none; color: red; margin-top: 10px"
        >
          Korisnik nije pronađen.
        </div>
      </form>
    </div>

    <!-- Logika za login -->

    <script>
      document
        .getElementById("loginForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          const formData = {
            username: document.getElementById("username").value,
            password: document.getElementById("password").value,
          };

          fetch("https://www.fulek.com/data/api/user/login", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(formData),
          })
            .then((response) => {
              if (response.status === 404) {
                return response.json().then((data) => {
                  if (data.isSuccess === false) {
                    throw new Error("Invalid username or password");
                  }
                });
              }
              return response.json();
            })
            .then((data) => {
              console.log("Success:", data);
            })
            .catch((error) => {
              console.error("Error:", error);
              document.getElementById("error-message").style.display = "block";
            });
        });
    </script>
  </body>

  <footer>
    <div class="bg-img footer">
      <div class="footer-text">
        <div>Budi izvrstan u onom što voliš.</div>
        <div class="footer-red-text">Zaiskri.</div>
      </div>
    </div>
  </footer>
</html>
